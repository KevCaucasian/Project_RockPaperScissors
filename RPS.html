<!DOCTYPE html>
<html>
<head>
	<title>
		ROCK! PAPER! SCISSORS!
	</title>
</head>
<body>

<script type="text/javascript">

let playerScore =  0;
let computerScore = 0;

function computerPlay() {
	let drawArray = Array('rock', 'paper', 'scissors');
    let randomNumber = Math.floor(Math.random() * 3);
    let computerSelection = drawArray[randomNumber];
    return computerSelection;
}


function game() {
	while (playerScore + computerScore < 5) {

		function playRound (playerSelection, computerSelection) {
			let playerSelectionCase = playerSelection.toLowerCase();

			if (playerSelectionCase === computerSelection) {
				return 'Tie!';
			}
			else if (
                (playerSelectionCase === 'rock' && computerSelection === 'scissors') ||
                (playerSelectionCase === 'scissors' && computerSelection === 'paper') ||
                (playerSelectionCase === 'paper' && computerSelection === 'stone')) {
                playerScore = ++playerScore;
                return `You win! ${playerSelection} beats ${computerSelection}. New scores are Player ${playerScore} and Computer ${computerScore}`;

            } else if (
                (playerSelectionCase === 'rock' && computerSelection === 'paper') ||
                (playerSelectionCase === 'scissors' && computerSelection === 'rock') ||
                (playerSelectionCase === 'paper' && computerSelection === 'scissors')) {
                computerScore = ++computerScore;
                return `Computer wins! ${playerSelection} beats ${computerSelection}. New scores are Player ${playerScore} and Computer ${computerScore}`;

            } 
            console.log(`Player: ${playerSelection} Computer: ${computerSelection} Playerscore: ${playerScore} Computerscore: ${computerScore}`);
		}

		let playerSelection = prompt("Choose your weapon: Rock, Paper or Scissors");
				if (playerSelection === '' || playerSelection === null) {
            alert('Tired yet');
            break;

		} let computerSelection = computerPlay();
		console.log(playRound(playerSelection, computerSelection))
	}
	if ((playerScore > computerScore) && (playerScore + computerScore === 5)) {
        console.log(`You are the winner! Your score ${playerScore}, Computer ${computerScore}.`)
    } else if ((playerScore + computerScore === 5) && (computerScore > playerScore)) {
        console.log(`The computer has won. Your score ${playerScore}, Computer ${computerScore}.`)
    } else {
        console.log(`You cancelled the game.`)
    }
}

game();



</script>

</body>
</html>